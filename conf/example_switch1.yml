--- # example:
# - two on/off switches
# - turns on the light when at least one switch is turned on
#
# you can control the switch by curl (rest api):
#   curl http://localhost:9128/api/metrics/switch1 -d switch_state=on -X PUT
#   curl http://localhost:9128/api/metrics/switch1 -d switch_state=off -X PUT
#
# watch status via live page
#   http://localhost:9128


virtual:
    switch1:
        sensors:
            switch_state:
                type: switch
    switch2:
        sensors:
            switch_state:
                type: switch
    light:
        actuators:
            relay_state:
                type: switch

                # this sensor monitors state of other sensors
                eval_require:
                    sw1: [ switch1, switch_state, value ]
                    sw2: [ switch2, switch_state, value ]

                # value will be calculated
                eval_expr: "sw1 or sw2"
